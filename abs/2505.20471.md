### WeatherEdit: Controllable Weather Editing with 4D Gaussian Field

In this work, we present WeatherEdit, a novel weather editing pipeline for generating realistic weather effects with controllable types and severity in 3D scenes. Our approach is structured into two key components: weather background editing and weather particle construction. For weather background editing, we introduce an all-in-one adapter that integrates multiple weather styles into a single pretrained diffusion model, enabling the generation of diverse weather effects in 2D image backgrounds. During inference, we design a Temporal-View (TV-) attention mechanism that follows a specific order to aggregate temporal and spatial information, ensuring consistent editing across multi-frame and multi-view images. To construct the weather particles, we first reconstruct a 3D scene using the edited images and then introduce a dynamic 4D Gaussian field to generate snowflakes, raindrops and fog in the scene. The attributes and dynamics of these particles are precisely controlled through physical-based modelling and simulation, ensuring realistic weather representation and flexible severity adjustments. Finally, we integrate the 4D Gaussian field with the 3D scene to render consistent and highly realistic weather effects. Experiments on multiple driving datasets demonstrate that WeatherEdit can generate diverse weather effects with controllable condition severity, highlighting its potential for autonomous driving simulation in adverse weather.

本文提出了 WeatherEdit，一个新颖的天气编辑管线，能够在三维场景中生成真实感强、类型与强度均可控制的天气效果。我们的方法主要包括两个关键组成部分：天气背景编辑与天气粒子构建。
在天气背景编辑阶段，我们引入了一种 多合一适配器，将多种天气风格集成到一个预训练扩散模型中，从而实现对二维图像背景中多样天气效果的生成。在推理过程中，我们设计了 时空视角注意力机制（Temporal-View Attention, TV-Attention），该机制以特定顺序聚合时间与空间信息，确保多帧多视角图像之间编辑结果的一致性。
在天气粒子构建阶段，我们首先利用编辑后的图像对三维场景进行重建，随后引入 动态四维高斯场（4D Gaussian Field），用于在场景中生成雪花、雨滴与雾等天气粒子。这些粒子的属性与动态行为通过基于物理的建模与仿真进行精确控制，从而实现高度真实的天气表现与灵活可调的强度控制。最终，我们将该 4D 高斯场与三维场景融合，实现一致性强、逼真度高的天气效果渲染。
在多个自动驾驶数据集上的实验表明，WeatherEdit 能够生成多样化、强度可控的天气效果，展示了其在恶劣天气下自动驾驶仿真中的应用潜力。
