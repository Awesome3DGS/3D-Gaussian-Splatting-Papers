### SketchPlan: Diffusion Based Drone Planning From Human Sketches

We propose SketchPlan, a diffusion-based planner that interprets 2D hand-drawn sketches over depth images to generate 3D flight paths for drone navigation. SketchPlan comprises two components: a SketchAdapter that learns to map the human sketches to projected 2D paths, and DiffPath, a diffusion model that infers 3D trajectories from 2D projections and a first person view depth image. Our model achieves zero-shot sim-to-real transfer, generating accurate and safe flight paths in previously unseen real-world environments. To train the model, we build a synthetic dataset of 32k flight paths using a diverse set of photorealistic 3D Gaussian Splatting scenes. We automatically label the data by computing 2D projections of the 3D flight paths onto the camera plane, and use this to train the DiffPath diffusion model. However, since real human 2D sketches differ significantly from ideal 2D projections, we additionally label 872 of the 3D flight paths with real human sketches and use this to train the SketchAdapter to infer the 2D projection from the human sketch. We demonstrate SketchPlan's effectiveness in both simulated and real-world experiments, and show through ablations that training on a mix of human labeled and auto-labeled data together with a modular design significantly boosts its capabilities to correctly interpret human intent and infer 3D paths. In real-world drone tests, SketchPlan achieved 100% success in low/medium clutter and 40% in unseen high-clutter environments, outperforming key ablations by 20-60% in task completion.

我们提出了 SketchPlan，一种基于扩散模型的规划器，能够解释深度图上的二维手绘草图，并生成用于无人机导航的三维飞行路径。SketchPlan 由两个关键组件构成：SketchAdapter 和 DiffPath。SketchAdapter 学习将人类草图映射为投影的二维路径，DiffPath 是一个扩散模型，用于结合二维投影和第一人称视角的深度图，推理出三维飞行轨迹。该模型实现了零样本的仿真到真实迁移，在此前未见的真实环境中也能生成准确且安全的飞行路径。为了训练模型，我们构建了一个包含 32,000 条飞行路径的合成数据集，场景基于多样化的真实感三维高斯泼溅（3DGS）场景生成。我们自动将三维飞行路径投影到相机平面，得到二维路径作为标签，用于训练 DiffPath 扩散模型。但由于真实的人类手绘草图与理想二维投影之间存在显著差异，我们另外手工标注了 872 条三维飞行路径对应的人类草图，并利用这些数据训练 SketchAdapter，使其能够从草图中推断出对应的二维投影路径。我们在仿真和真实世界中均验证了 SketchPlan 的有效性，并通过消融实验发现，使用人类标注与自动标注数据的混合训练方式，以及模块化的设计，显著增强了系统对人类意图的正确理解与三维路径的推理能力。在真实无人机飞行测试中，SketchPlan 在低/中等复杂度场景中实现了 100% 成功率，在未见的高复杂度场景中达到 40%，在任务完成率方面相比关键消融模型提升了 20%-60%。
